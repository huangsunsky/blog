<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta name="description" content=Aloha!&#32;Welcome&#32;to&#32;cheon&#39;s&#32;blog.>
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="apple-touch-icon" sizes= "76x76" href=https://www.cheon.site/blog/img/apple-touch-icon.png>
    <link rel="icon" href=https://www.cheon.site/blog/img/pen.svg>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/global.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/nav.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/header.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/index.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/list.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/single.css>
    <link rel="stylesheet" href=https://www.cheon.site/blog/css/footer.css>
    
    <link href="https://fonts.googleapis.com/css?family=Fira+Mono|Noto+Sans+SC|Old+Standard+TT&display=swap" rel="stylesheet">
    
    <link href="//netdna.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <title>cheon&#39;s blog</title>

</head>
<body><section id="header">
    <ul id="menus">
    
    <li class="menu"><a href="https://www.cheon.site"><span>Home</span></a></li>
    
    <li class="menu"><a href="https://www.cheon.site/blog/categories"><span>Categories</span></a></li>
    
    <li class="menu"><a href="https://www.cheon.site/blog/tags"><span>Tags</span></a></li>
    
    <li class="menu"><a href="https://github.com/number317"><span>Projects</span></a></li>
    
    </ul>
    <h1 id="title"><a href="https://www.cheon.site/blog/">cheon&#39;s blog</a></h1>
</section>
<ul class="nav">






<li>
    »
    <a href="https://www.cheon.site/blog/">
    
    cheon&#39;s blog
    
    </a>
</li>


<li>
    »
    <a href="https://www.cheon.site/blog/struct/">
    
    struct
    
    
    </a>
</li>


<li class="active">
    »
    <a href="https://www.cheon.site/blog/struct/graylog_k8s_install/">
    
    Graylog K8s Install
    
    </a>
</li>

</ul>

<div>
<section id="main">
  <h1>Graylog K8s Install</h1>
  <time>Last updated Fri Jun 14, 2019</time>
  <div>
      <article id="content">
          

<h1 id="graylog-k8s-部署">graylog k8s 部署</h1>

<p>graylog是一个日志聚合工具，用于统一展示应用日志。这里基于官方文档，在k8s集群中部署一套简单的单节点graylog服务。</p>

<h2 id="mongodb-部署">mongodb 部署</h2>

<p>mongodb 在服务中用于存储graylog的配置信息。以下是部署文件（没有进行数据持久化操作）：</p>

<p><details>
<summary>mongodb deploy</summary></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#888;font-style:italic"># {{{ deploy</span>
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: graylog-mongo
  labels:
    app: graylog-mongo
spec:
  replicas: 1
  selector:
    matchLabels:
      app: graylog-mongo
  template:
    metadata:
      labels:
        app: graylog-mongo
    spec:
      containers:
        - name: graylog-mongo
          image: mongo:3
          ports:
            - containerPort: 27017
              protocol: TCP
          resources:
            limits:
              memory: 512Mi
            requests:
              memory: 100Mi
          terminationMessagePath: /dev/termination-log
          imagePullPolicy: IfNotPresent
      restartPolicy: Always
      terminationGracePeriodSeconds: 30
      dnsPolicy: ClusterFirst
      securityContext: {}
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0
      maxSurge: 1
  revisionHistoryLimit: 2
<span style="color:#888;font-style:italic"># }}}</span>
<span style="color:#888;font-style:italic"># {{{ service</span>
---
apiVersion: v1
kind: Service
metadata:
  name: graylog-mongo
  labels:
    name: mongo
spec:
  ports:
    - name: mongo
      protocol: TCP
      port: 27017
      targetPort: 27017
  selector:
    app: graylog-mongo
  type: ClusterIP
  sessionAffinity: None
status:
  loadBalancer: {}
<span style="color:#888;font-style:italic"># }}}</span></code></pre></div>
<p></details></p>

<h2 id="elasticsearch-部署">elasticsearch 部署</h2>

<p>elasticsearch 在服务中用于存储日志数据。以下是部署文件（没有进行数据持久化操作）：</p>

<p><details>
<summary>es deploy</summary></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#888;font-style:italic"># {{{ deploy</span>
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: graylog-elasticsearch
  labels:
    app: graylog-elasticsearch
spec:
  replicas: 1
  selector:
    matchLabels:
      app: graylog-elasticsearch
  template:
    metadata:
      labels:
        app: graylog-elasticsearch
    spec:
      containers:
        - name: graylog-elasticsearch
          image: docker.elastic.co/elasticsearch/elasticsearch:5.6.12
          ports:
            - containerPort: 9200
              protocol: TCP
          env:
            - name: <span style="color:#666;font-style:italic">&#34;http.host&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;0.0.0.0&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;transport.host&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;localhost&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;network.host&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;0.0.0.0&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;xpack.security.enabled&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: xpack.watcher.enabled
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: xpack.monitoring.enabled
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: xpack.security.audit.enabled
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: xpack.ml.enabled
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: xpack.graph.enabled
              value: <span style="color:#666;font-style:italic">&#34;false&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;ES_JAVA_OPTS&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;-Xms512m -Xmx512m&#34;</span>
          resources:
            limits:
              memory: 2048Mi
            requests:
              memory: 512Mi
          terminationMessagePath: /dev/termination-log
          imagePullPolicy: IfNotPresent
      restartPolicy: Always
      terminationGracePeriodSeconds: 30
      dnsPolicy: ClusterFirst
      securityContext: {}
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0
      maxSurge: 1
  revisionHistoryLimit: 2
<span style="color:#888;font-style:italic"># }}}</span>
<span style="color:#888;font-style:italic"># {{{ svc</span>
---
apiVersion: v1
kind: Service
metadata:
  name: graylog-elasticsearch
  labels:
    name: graylog-elasticsearch
spec:
  ports:
    - name: es
      protocol: TCP
      port: 9200
      targetPort: 9200
  selector:
    app: graylog-elasticsearch
  type: ClusterIP
  sessionAffinity: None
status:
  loadBalancer: {}
<span style="color:#888;font-style:italic"># }}}</span></code></pre></div>
<p></details></p>

<p>注意这里es用太新的版本可能会导致graylog启动报错。</p>

<h2 id="graylog-部署">graylog 部署</h2>

<p>部署文件：</p>

<p><details>
<summary>graylog deploy</summary></p>
<div class="highlight"><pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-yaml" data-lang="yaml"><span style="color:#888;font-style:italic"># {{{ deploy</span>
---
apiVersion: extensions/v1beta1
kind: Deployment
metadata:
  name: graylog
  labels:
    app: graylog
spec:
  replicas: 1
  selector:
    matchLabels:
      app: graylog
  template:
    metadata:
      labels:
        app: graylog
    spec:
      volumes:
        - name: graylog-conf
          configMap:
            name: graylog-conf
            defaultMode: 420
      containers:
        - name: graylog
          image: registry.saas.crland.com.cn/tools/graylog:2.4
          ports:
            - containerPort: 9000
              protocol: TCP
            - containerPort: 5555
              protocol: TCP
            - containerPort: 5044
              protocol: TCP
            - containerPort: 514
              protocol: TCP
            - containerPort: 12201
              protocol: TCP
          env:
            - name: <span style="color:#666;font-style:italic">&#34;GRAYLOG_WEB_ENDPOINT_URI&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;http://graylog.test.com/api&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;GRAYLOG_HTTP_EXTERNAL_URI&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;http://graylog.test.com&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;GRAYLOG_PASSWORD_SECRET&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;somepasswordpepper&#34;</span>
            - name: <span style="color:#666;font-style:italic">&#34;GRAYLOG_ROOT_PASSWORD_SHA2&#34;</span>
              value: <span style="color:#666;font-style:italic">&#34;8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918&#34;</span>
          resources:
            limits:
              memory: 2048Mi
            requests:
              memory: 512Mi
          volumeMounts:
            - name: graylog-conf
              mountPath: /usr/share/graylog/data/config/graylog.conf
              subPath: graylog.conf
          terminationMessagePath: /dev/termination-log
          imagePullPolicy: IfNotPresent
      restartPolicy: Always
      terminationGracePeriodSeconds: 30
      dnsPolicy: ClusterFirst
      securityContext: {}
  strategy:
    type: RollingUpdate
    rollingUpdate:
      maxUnavailable: 0
      maxSurge: 1
  revisionHistoryLimit: 2
<span style="color:#888;font-style:italic"># }}}</span>
<span style="color:#888;font-style:italic"># {{{ svc</span>
---
apiVersion: v1
kind: Service
metadata:
  name: graylog
  labels:
    name: graylog
spec:
  ports:
    - name: web
      protocol: TCP
      port: 9000
      targetPort: 9000
    - name: tcp-input
      protocol: TCP
      port: 5555
      targetPort: 5555
    - name: beats-input
      protocol: TCP
      port: 5044
      targetPort: 5555
    - name: syslog
      protocol: TCP
      port: 514
      targetPort: 514
    - name: gelf
      protocol: TCP
      port: 12201
      targetPort: 12201
  selector:
    app: graylog
  type: ClusterIP
  sessionAffinity: None
status:
  loadBalancer: {}
<span style="color:#888;font-style:italic"># }}}</span>
<span style="color:#888;font-style:italic"># {{{ cm</span>
---
apiVersion: v1
kind: ConfigMap
metadata:
  name: graylog-conf
data:
  graylog.conf: <span style="color:#666;font-style:italic">|
</span><span style="color:#666;font-style:italic">    ############################</span>
    <span style="color:#888;font-style:italic"># GRAYLOG CONFIGURATION FILE</span>
    <span style="color:#888;font-style:italic">############################</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># This is the Graylog configuration file. The file has to use ISO 8859-1/Latin-1 character encoding.</span>
    <span style="color:#888;font-style:italic"># Characters that cannot be directly represented in this encoding can be written using Unicode escapes</span>
    <span style="color:#888;font-style:italic"># as defined in https://docs.oracle.com/javase/specs/jls/se8/html/jls-3.html#jls-3.3, using the \u prefix.</span>
    <span style="color:#888;font-style:italic"># For example, \u002c.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * Entries are generally expected to be a single line of the form, one of the following:</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># propertyName=propertyValue</span>
    <span style="color:#888;font-style:italic"># propertyName:propertyValue</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * White space that appears between the property name and property value is ignored,</span>
    <span style="color:#888;font-style:italic">#   so the following are equivalent:</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># name=Stephen</span>
    <span style="color:#888;font-style:italic"># name = Stephen</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * White space at the beginning of the line is also ignored.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * Lines that start with the comment characters ! or # are ignored. Blank lines are also ignored.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * The property value is generally terminated by the end of the line. White space following the</span>
    <span style="color:#888;font-style:italic">#   property value is not ignored, and is treated as part of the property value.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * A property value can span several lines if each line is terminated by a backslash (‘\’) character.</span>
    <span style="color:#888;font-style:italic">#   For example:</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># targetCities=\</span>
    <span style="color:#888;font-style:italic">#         Detroit,\</span>
    <span style="color:#888;font-style:italic">#         Chicago,\</span>
    <span style="color:#888;font-style:italic">#         Los Angeles</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic">#   This is equivalent to targetCities=Detroit,Chicago,Los Angeles (white space at the beginning of lines is ignored).</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * The characters newline, carriage return, and tab can be inserted with characters \n, \r, and \t, respectively.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># * The backslash character must be escaped as a double backslash. For example:</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># path=c:\\docs\\doc1</span>
    <span style="color:#888;font-style:italic">#</span>

    <span style="color:#888;font-style:italic"># If you are running more than one instances of Graylog server you have to select one of these</span>
    <span style="color:#888;font-style:italic"># instances as master. The master will perform some periodical tasks that non-masters won&#39;t perform.</span>
    is_master = <span style="font-weight:bold">true</span>

    <span style="color:#888;font-style:italic"># The auto-generated node ID will be stored in this file and read after restarts. It is a good idea</span>
    <span style="color:#888;font-style:italic"># to use an absolute file path here if you are starting Graylog server from init scripts or similar.</span>
    node_id_file = /usr/share/graylog/data/config/node-id

    <span style="color:#888;font-style:italic"># You MUST set a secret to secure/pepper the stored user passwords here. Use at least 64 characters.</span>
    <span style="color:#888;font-style:italic"># Generate one by using for example: pwgen -N 1 -s 96</span>
    <span style="color:#888;font-style:italic">#password_secret = admin</span>

    <span style="color:#888;font-style:italic"># The default root user is named &#39;admin&#39;</span>
    <span style="color:#888;font-style:italic">#root_username = admin</span>

    <span style="color:#888;font-style:italic"># You MUST specify a hash password for the root user (which you only need to initially set up the</span>
    <span style="color:#888;font-style:italic"># system and in case you lose connectivity to your authentication backend)</span>
    <span style="color:#888;font-style:italic"># This password cannot be changed using the API or via the web interface. If you need to change it,</span>
    <span style="color:#888;font-style:italic"># modify it in this file.</span>
    <span style="color:#888;font-style:italic"># Create one by using for example: echo -n yourpassword | shasum -a 256</span>
    <span style="color:#888;font-style:italic"># and put the resulting hash value into the following line</span>

    <span style="color:#888;font-style:italic"># Default password: admin</span>
    <span style="color:#888;font-style:italic"># CHANGE THIS!</span>
    root_password_sha2 = 8c6976e5b5410415bde908bd4dee15dfb167a9c873fc4bb8a81f6f2ab448a918

    <span style="color:#888;font-style:italic"># The email address of the root user.</span>
    <span style="color:#888;font-style:italic"># Default is empty</span>
    <span style="color:#888;font-style:italic">#root_email = &#34;&#34;</span>

    <span style="color:#888;font-style:italic"># The time zone setting of the root user. See http://www.joda.org/joda-time/timezones.html for a list of valid time zones.</span>
    <span style="color:#888;font-style:italic"># Default is UTC</span>
    root_timezone = Asia/Shanghai

    <span style="color:#888;font-style:italic"># Set plugin directory here (relative or absolute)</span>
    plugin_dir = /usr/share/graylog/plugin

    <span style="color:#888;font-style:italic"># REST API listen URI. Must be reachable by other Graylog server nodes if you run a cluster.</span>
    <span style="color:#888;font-style:italic"># When using Graylog Collectors, this URI will be used to receive heartbeat messages and must be accessible for all collectors.</span>
    rest_listen_uri = http://0.0.0.0:9000/api/

    <span style="color:#888;font-style:italic"># REST API transport address. Defaults to the value of rest_listen_uri. Exception: If rest_listen_uri</span>
    <span style="color:#888;font-style:italic"># is set to a wildcard IP address (0.0.0.0) the first non-loopback IPv4 system address is used.</span>
    <span style="color:#888;font-style:italic"># If set, this will be promoted in the cluster discovery APIs, so other nodes may try to connect on</span>
    <span style="color:#888;font-style:italic"># this address and it is used to generate URLs addressing entities in the REST API. (see rest_listen_uri)</span>
    <span style="color:#888;font-style:italic"># You will need to define this, if your Graylog server is running behind a HTTP proxy that is rewriting</span>
    <span style="color:#888;font-style:italic"># the scheme, host name or URI.</span>
    <span style="color:#888;font-style:italic"># This must not contain a wildcard address (0.0.0.0).</span>
    <span style="color:#888;font-style:italic">#rest_transport_uri = http://192.168.1.1:9000/api/</span>

    <span style="color:#888;font-style:italic"># Enable CORS headers for REST API. This is necessary for JS-clients accessing the server directly.</span>
    <span style="color:#888;font-style:italic"># If these are disabled, modern browsers will not be able to retrieve resources from the server.</span>
    <span style="color:#888;font-style:italic"># This is enabled by default. Uncomment the next line to disable it.</span>
    <span style="color:#888;font-style:italic">#rest_enable_cors = false</span>

    <span style="color:#888;font-style:italic"># Enable GZIP support for REST API. This compresses API responses and therefore helps to reduce</span>
    <span style="color:#888;font-style:italic"># overall round trip times. This is enabled by default. Uncomment the next line to disable it.</span>
    <span style="color:#888;font-style:italic">#rest_enable_gzip = false</span>

    <span style="color:#888;font-style:italic"># Enable HTTPS support for the REST API. This secures the communication with the REST API with</span>
    <span style="color:#888;font-style:italic"># TLS to prevent request forgery and eavesdropping. This is disabled by default. Uncomment the</span>
    <span style="color:#888;font-style:italic"># next line to enable it.</span>
    <span style="color:#888;font-style:italic">#rest_enable_tls = true</span>

    <span style="color:#888;font-style:italic"># The X.509 certificate chain file in PEM format to use for securing the REST API.</span>
    <span style="color:#888;font-style:italic">#rest_tls_cert_file = /path/to/graylog.crt</span>

    <span style="color:#888;font-style:italic"># The PKCS#8 private key file in PEM format to use for securing the REST API.</span>
    <span style="color:#888;font-style:italic">#rest_tls_key_file = /path/to/graylog.key</span>

    <span style="color:#888;font-style:italic"># The password to unlock the private key used for securing the REST API.</span>
    <span style="color:#888;font-style:italic">#rest_tls_key_password = secret</span>

    <span style="color:#888;font-style:italic"># The maximum size of the HTTP request headers in bytes.</span>
    <span style="color:#888;font-style:italic">#rest_max_header_size = 8192</span>

    <span style="color:#888;font-style:italic"># The size of the thread pool used exclusively for serving the REST API.</span>
    <span style="color:#888;font-style:italic">#rest_thread_pool_size = 16</span>

    <span style="color:#888;font-style:italic"># Comma separated list of trusted proxies that are allowed to set the client address with X-Forwarded-For</span>
    <span style="color:#888;font-style:italic"># header. May be subnets, or hosts.</span>
    <span style="color:#888;font-style:italic">#trusted_proxies = 127.0.0.1/32, 0:0:0:0:0:0:0:1/128</span>

    <span style="color:#888;font-style:italic"># Enable the embedded Graylog web interface.</span>
    <span style="color:#888;font-style:italic"># Default: true</span>
    <span style="color:#888;font-style:italic">#web_enable = false</span>

    <span style="color:#888;font-style:italic"># Web interface listen URI.</span>
    <span style="color:#888;font-style:italic"># Configuring a path for the URI here effectively prefixes all URIs in the web interface. This is a replacement</span>
    <span style="color:#888;font-style:italic"># for the application.context configuration parameter in pre-2.0 versions of the Graylog web interface.</span>
    web_listen_uri = http://0.0.0.0:9000/

    <span style="color:#888;font-style:italic"># Web interface endpoint URI. This setting can be overriden on a per-request basis with the X-Graylog-Server-URL header.</span>
    <span style="color:#888;font-style:italic"># Default: $rest_transport_uri</span>
    <span style="color:#888;font-style:italic">#web_endpoint_uri =</span>

    <span style="color:#888;font-style:italic"># Enable CORS headers for the web interface. This is necessary for JS-clients accessing the server directly.</span>
    <span style="color:#888;font-style:italic"># If these are disabled, modern browsers will not be able to retrieve resources from the server.</span>
    <span style="color:#888;font-style:italic">#web_enable_cors = false</span>

    <span style="color:#888;font-style:italic"># Enable/disable GZIP support for the web interface. This compresses HTTP responses and therefore helps to reduce</span>
    <span style="color:#888;font-style:italic"># overall round trip times. This is enabled by default. Uncomment the next line to disable it.</span>
    <span style="color:#888;font-style:italic">#web_enable_gzip = false</span>

    <span style="color:#888;font-style:italic"># Enable HTTPS support for the web interface. This secures the communication of the web browser with the web interface</span>
    <span style="color:#888;font-style:italic"># using TLS to prevent request forgery and eavesdropping.</span>
    <span style="color:#888;font-style:italic"># This is disabled by default. Uncomment the next line to enable it and see the other related configuration settings.</span>
    <span style="color:#888;font-style:italic">#web_enable_tls = true</span>

    <span style="color:#888;font-style:italic"># The X.509 certificate chain file in PEM format to use for securing the web interface.</span>
    <span style="color:#888;font-style:italic">#web_tls_cert_file = /path/to/graylog-web.crt</span>

    <span style="color:#888;font-style:italic"># The PKCS#8 private key file in PEM format to use for securing the web interface.</span>
    <span style="color:#888;font-style:italic">#web_tls_key_file = /path/to/graylog-web.key</span>

    <span style="color:#888;font-style:italic"># The password to unlock the private key used for securing the web interface.</span>
    <span style="color:#888;font-style:italic">#web_tls_key_password = secret</span>

    <span style="color:#888;font-style:italic"># The maximum size of the HTTP request headers in bytes.</span>
    <span style="color:#888;font-style:italic">#web_max_header_size = 8192</span>

    <span style="color:#888;font-style:italic"># The size of the thread pool used exclusively for serving the web interface.</span>
    <span style="color:#888;font-style:italic">#web_thread_pool_size = 16</span>

    <span style="color:#888;font-style:italic"># List of Elasticsearch hosts Graylog should connect to.</span>
    <span style="color:#888;font-style:italic"># Need to be specified as a comma-separated list of valid URIs for the http ports of your elasticsearch nodes.</span>
    <span style="color:#888;font-style:italic"># If one or more of your elasticsearch hosts require authentication, include the credentials in each node URI that</span>
    <span style="color:#888;font-style:italic"># requires authentication.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: http://127.0.0.1:9200</span>
    elasticsearch_hosts = http://graylog-elasticsearch.tools.svc:9200

    <span style="color:#888;font-style:italic"># Maximum amount of time to wait for successfull connection to Elasticsearch HTTP port.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 10 Seconds</span>
    <span style="color:#888;font-style:italic">#elasticsearch_connect_timeout = 10s</span>

    <span style="color:#888;font-style:italic"># Maximum amount of time to wait for reading back a response from an Elasticsearch server.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 60 seconds</span>
    <span style="color:#888;font-style:italic">#elasticsearch_socket_timeout = 60s</span>

    <span style="color:#888;font-style:italic"># Maximum idle time for an Elasticsearch connection. If this is exceeded, this connection will</span>
    <span style="color:#888;font-style:italic"># be tore down.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: inf</span>
    <span style="color:#888;font-style:italic">#elasticsearch_idle_timeout = -1s</span>

    <span style="color:#888;font-style:italic"># Maximum number of total connections to Elasticsearch.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 20</span>
    <span style="color:#888;font-style:italic">#elasticsearch_max_total_connections = 20</span>

    <span style="color:#888;font-style:italic"># Maximum number of total connections per Elasticsearch route (normally this means per</span>
    <span style="color:#888;font-style:italic"># elasticsearch server).</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 2</span>
    <span style="color:#888;font-style:italic">#elasticsearch_max_total_connections_per_route = 2</span>

    <span style="color:#888;font-style:italic"># Maximum number of times Graylog will retry failed requests to Elasticsearch.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 2</span>
    <span style="color:#888;font-style:italic">#elasticsearch_max_retries = 2</span>

    <span style="color:#888;font-style:italic"># Enable automatic Elasticsearch node discovery through Nodes Info,</span>
    <span style="color:#888;font-style:italic"># see https://www.elastic.co/guide/en/elasticsearch/reference/5.4/cluster-nodes-info.html</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># WARNING: Automatic node discovery does not work if Elasticsearch requires authentication, e. g. with Shield.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: false</span>
    <span style="color:#888;font-style:italic">#elasticsearch_discovery_enabled = true</span>

    <span style="color:#888;font-style:italic"># Filter for including/excluding Elasticsearch nodes in discovery according to their custom attributes,</span>
    <span style="color:#888;font-style:italic"># see https://www.elastic.co/guide/en/elasticsearch/reference/5.4/cluster.html#cluster-nodes</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: empty</span>
    <span style="color:#888;font-style:italic">#elasticsearch_discovery_filter = rack:42</span>

    <span style="color:#888;font-style:italic"># Frequency of the Elasticsearch node discovery.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: 30s</span>
    <span style="color:#888;font-style:italic"># elasticsearch_discovery_frequency = 30s</span>

    <span style="color:#888;font-style:italic"># Enable payload compression for Elasticsearch requests.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Default: false</span>
    <span style="color:#888;font-style:italic">#elasticsearch_compression_enabled = true</span>

    <span style="color:#888;font-style:italic"># Disable checking the version of Elasticsearch for being compatible with this Graylog release.</span>
    <span style="color:#888;font-style:italic"># WARNING: Using Graylog with unsupported and untested versions of Elasticsearch may lead to data loss!</span>
    <span style="color:#888;font-style:italic">#elasticsearch_disable_version_check = true</span>

    <span style="color:#888;font-style:italic"># Disable message retention on this node, i. e. disable Elasticsearch index rotation.</span>
    <span style="color:#888;font-style:italic">#no_retention = false</span>

    <span style="color:#888;font-style:italic"># Do you want to allow searches with leading wildcards? This can be extremely resource hungry and should only</span>
    <span style="color:#888;font-style:italic"># be enabled with care. See also: http://docs.graylog.org/en/2.1/pages/queries.html</span>
    allow_leading_wildcard_searches = <span style="font-weight:bold">false</span>

    <span style="color:#888;font-style:italic"># Do you want to allow searches to be highlighted? Depending on the size of your messages this can be memory hungry and</span>
    <span style="color:#888;font-style:italic"># should only be enabled after making sure your Elasticsearch cluster has enough memory.</span>
    allow_highlighting = <span style="font-weight:bold">false</span>

    <span style="color:#888;font-style:italic"># Global request timeout for Elasticsearch requests (e. g. during search, index creation, or index time-range</span>
    <span style="color:#888;font-style:italic"># calculations) based on a best-effort to restrict the runtime of Elasticsearch operations.</span>
    <span style="color:#888;font-style:italic"># Default: 1m</span>
    <span style="color:#888;font-style:italic">#elasticsearch_request_timeout = 1m</span>

    <span style="color:#888;font-style:italic"># Global timeout for index optimization (force merge) requests.</span>
    <span style="color:#888;font-style:italic"># Default: 1h</span>
    <span style="color:#888;font-style:italic">#elasticsearch_index_optimization_timeout = 1h</span>

    <span style="color:#888;font-style:italic"># Maximum number of concurrently running index optimization (force merge) jobs.</span>
    <span style="color:#888;font-style:italic"># If you are using lots of different index sets, you might want to increase that number.</span>
    <span style="color:#888;font-style:italic"># Default: 20</span>
    <span style="color:#888;font-style:italic">#elasticsearch_index_optimization_jobs = 20</span>

    <span style="color:#888;font-style:italic"># Time interval for index range information cleanups. This setting defines how often stale index range information</span>
    <span style="color:#888;font-style:italic"># is being purged from the database.</span>
    <span style="color:#888;font-style:italic"># Default: 1h</span>
    <span style="color:#888;font-style:italic">#index_ranges_cleanup_interval = 1h</span>

    <span style="color:#888;font-style:italic"># Batch size for the Elasticsearch output. This is the maximum (!) number of messages the Elasticsearch output</span>
    <span style="color:#888;font-style:italic"># module will get at once and write to Elasticsearch in a batch call. If the configured batch size has not been</span>
    <span style="color:#888;font-style:italic"># reached within output_flush_interval seconds, everything that is available will be flushed at once. Remember</span>
    <span style="color:#888;font-style:italic"># that every outputbuffer processor manages its own batch and performs its own batch write calls.</span>
    <span style="color:#888;font-style:italic"># (&#34;outputbuffer_processors&#34; variable)</span>
    output_batch_size = 500

    <span style="color:#888;font-style:italic"># Flush interval (in seconds) for the Elasticsearch output. This is the maximum amount of time between two</span>
    <span style="color:#888;font-style:italic"># batches of messages written to Elasticsearch. It is only effective at all if your minimum number of messages</span>
    <span style="color:#888;font-style:italic"># for this time period is less than output_batch_size * outputbuffer_processors.</span>
    output_flush_interval = 1

    <span style="color:#888;font-style:italic"># As stream outputs are loaded only on demand, an output which is failing to initialize will be tried over and</span>
    <span style="color:#888;font-style:italic"># over again. To prevent this, the following configuration options define after how many faults an output will</span>
    <span style="color:#888;font-style:italic"># not be tried again for an also configurable amount of seconds.</span>
    output_fault_count_threshold = 5
    output_fault_penalty_seconds = 30

    <span style="color:#888;font-style:italic"># The number of parallel running processors.</span>
    <span style="color:#888;font-style:italic"># Raise this number if your buffers are filling up.</span>
    processbuffer_processors = 5
    outputbuffer_processors = 3

    <span style="color:#888;font-style:italic"># The following settings (outputbuffer_processor_*) configure the thread pools backing each output buffer processor.</span>
    <span style="color:#888;font-style:italic"># See https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ThreadPoolExecutor.html for technical details</span>

    <span style="color:#888;font-style:italic"># When the number of threads is greater than the core (see outputbuffer_processor_threads_core_pool_size),</span>
    <span style="color:#888;font-style:italic"># this is the maximum time in milliseconds that excess idle threads will wait for new tasks before terminating.</span>
    <span style="color:#888;font-style:italic"># Default: 5000</span>
    <span style="color:#888;font-style:italic">#outputbuffer_processor_keep_alive_time = 5000</span>

    <span style="color:#888;font-style:italic"># The number of threads to keep in the pool, even if they are idle, unless allowCoreThreadTimeOut is set</span>
    <span style="color:#888;font-style:italic"># Default: 3</span>
    <span style="color:#888;font-style:italic">#outputbuffer_processor_threads_core_pool_size = 3</span>

    <span style="color:#888;font-style:italic"># The maximum number of threads to allow in the pool</span>
    <span style="color:#888;font-style:italic"># Default: 30</span>
    <span style="color:#888;font-style:italic">#outputbuffer_processor_threads_max_pool_size = 30</span>

    <span style="color:#888;font-style:italic"># UDP receive buffer size for all message inputs (e. g. SyslogUDPInput).</span>
    <span style="color:#888;font-style:italic">#udp_recvbuffer_sizes = 1048576</span>

    <span style="color:#888;font-style:italic"># Wait strategy describing how buffer processors wait on a cursor sequence. (default: sleeping)</span>
    <span style="color:#888;font-style:italic"># Possible types:</span>
    <span style="color:#888;font-style:italic">#  - yielding</span>
    <span style="color:#888;font-style:italic">#     Compromise between performance and CPU usage.</span>
    <span style="color:#888;font-style:italic">#  - sleeping</span>
    <span style="color:#888;font-style:italic">#     Compromise between performance and CPU usage. Latency spikes can occur after quiet periods.</span>
    <span style="color:#888;font-style:italic">#  - blocking</span>
    <span style="color:#888;font-style:italic">#     High throughput, low latency, higher CPU usage.</span>
    <span style="color:#888;font-style:italic">#  - busy_spinning</span>
    <span style="color:#888;font-style:italic">#     Avoids syscalls which could introduce latency jitter. Best when threads can be bound to specific CPU cores.</span>
    processor_wait_strategy = blocking

    <span style="color:#888;font-style:italic"># Size of internal ring buffers. Raise this if raising outputbuffer_processors does not help anymore.</span>
    <span style="color:#888;font-style:italic"># For optimum performance your LogMessage objects in the ring buffer should fit in your CPU L3 cache.</span>
    <span style="color:#888;font-style:italic"># Must be a power of 2. (512, 1024, 2048, ...)</span>
    ring_size = 65536

    inputbuffer_ring_size = 65536
    inputbuffer_processors = 2
    inputbuffer_wait_strategy = blocking

    <span style="color:#888;font-style:italic"># Enable the disk based message journal.</span>
    message_journal_enabled = <span style="font-weight:bold">true</span>

    <span style="color:#888;font-style:italic"># The directory which will be used to store the message journal. The directory must me exclusively used by Graylog and</span>
    <span style="color:#888;font-style:italic"># must not contain any other files than the ones created by Graylog itself.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># ATTENTION:</span>
    <span style="color:#888;font-style:italic">#   If you create a seperate partition for the journal files and use a file system creating directories like &#39;lost+found&#39;</span>
    <span style="color:#888;font-style:italic">#   in the root directory, you need to create a sub directory for your journal.</span>
    <span style="color:#888;font-style:italic">#   Otherwise Graylog will log an error message that the journal is corrupt and Graylog will not start.</span>
    message_journal_dir = /usr/share/graylog/data/journal

    <span style="color:#888;font-style:italic"># Journal hold messages before they could be written to Elasticsearch.</span>
    <span style="color:#888;font-style:italic"># For a maximum of 12 hours or 5 GB whichever happens first.</span>
    <span style="color:#888;font-style:italic"># During normal operation the journal will be smaller.</span>
    <span style="color:#888;font-style:italic">#message_journal_max_age = 12h</span>
    <span style="color:#888;font-style:italic">#message_journal_max_size = 5gb</span>

    <span style="color:#888;font-style:italic">#message_journal_flush_age = 1m</span>
    <span style="color:#888;font-style:italic">#message_journal_flush_interval = 1000000</span>
    <span style="color:#888;font-style:italic">#message_journal_segment_age = 1h</span>
    <span style="color:#888;font-style:italic">#message_journal_segment_size = 100mb</span>

    <span style="color:#888;font-style:italic"># Number of threads used exclusively for dispatching internal events. Default is 2.</span>
    <span style="color:#888;font-style:italic">#async_eventbus_processors = 2</span>

    <span style="color:#888;font-style:italic"># How many seconds to wait between marking node as DEAD for possible load balancers and starting the actual</span>
    <span style="color:#888;font-style:italic"># shutdown process. Set to 0 if you have no status checking load balancers in front.</span>
    lb_recognition_period_seconds = 3

    <span style="color:#888;font-style:italic"># Journal usage percentage that triggers requesting throttling for this server node from load balancers. The feature is</span>
    <span style="color:#888;font-style:italic"># disabled if not set.</span>
    <span style="color:#888;font-style:italic">#lb_throttle_threshold_percentage = 95</span>

    <span style="color:#888;font-style:italic"># Every message is matched against the configured streams and it can happen that a stream contains rules which</span>
    <span style="color:#888;font-style:italic"># take an unusual amount of time to run, for example if its using regular expressions that perform excessive backtracking.</span>
    <span style="color:#888;font-style:italic"># This will impact the processing of the entire server. To keep such misbehaving stream rules from impacting other</span>
    <span style="color:#888;font-style:italic"># streams, Graylog limits the execution time for each stream.</span>
    <span style="color:#888;font-style:italic"># The default values are noted below, the timeout is in milliseconds.</span>
    <span style="color:#888;font-style:italic"># If the stream matching for one stream took longer than the timeout value, and this happened more than &#34;max_faults&#34; times</span>
    <span style="color:#888;font-style:italic"># that stream is disabled and a notification is shown in the web interface.</span>
    <span style="color:#888;font-style:italic">#stream_processing_timeout = 2000</span>
    <span style="color:#888;font-style:italic">#stream_processing_max_faults = 3</span>

    <span style="color:#888;font-style:italic"># Length of the interval in seconds in which the alert conditions for all streams should be checked</span>
    <span style="color:#888;font-style:italic"># and alarms are being sent.</span>
    <span style="color:#888;font-style:italic">#alert_check_interval = 60</span>

    <span style="color:#888;font-style:italic"># Since 0.21 the Graylog server supports pluggable output modules. This means a single message can be written to multiple</span>
    <span style="color:#888;font-style:italic"># outputs. The next setting defines the timeout for a single output module, including the default output module where all</span>
    <span style="color:#888;font-style:italic"># messages end up.</span>
    <span style="color:#888;font-style:italic">#</span>
    <span style="color:#888;font-style:italic"># Time in milliseconds to wait for all message outputs to finish writing a single message.</span>
    <span style="color:#888;font-style:italic">#output_module_timeout = 10000</span>

    <span style="color:#888;font-style:italic"># Time in milliseconds after which a detected stale master node is being rechecked on startup.</span>
    <span style="color:#888;font-style:italic">#stale_master_timeout = 2000</span>

    <span style="color:#888;font-style:italic"># Time in milliseconds which Graylog is waiting for all threads to stop on shutdown.</span>
    <span style="color:#888;font-style:italic">#shutdown_timeout = 30000</span>

    <span style="color:#888;font-style:italic"># MongoDB connection string</span>
    <span style="color:#888;font-style:italic"># See https://docs.mongodb.com/manual/reference/connection-string/ for details</span>
    mongodb_uri = mongodb://graylog-mongo.tools.svc:27017/graylog

    <span style="color:#888;font-style:italic"># Authenticate against the MongoDB server</span>
    <span style="color:#888;font-style:italic">#mongodb_uri = mongodb://grayloguser:secret@mongo:27017/graylog</span>

    <span style="color:#888;font-style:italic"># Use a replica set instead of a single host</span>
    <span style="color:#888;font-style:italic">#mongodb_uri = mongodb://grayloguser:secret@mongo:27017,mongo:27018,mongo:27019/graylog</span>

    <span style="color:#888;font-style:italic"># Increase this value according to the maximum connections your MongoDB server can handle from a single client</span>
    <span style="color:#888;font-style:italic"># if you encounter MongoDB connection problems.</span>
    mongodb_max_connections = 100

    <span style="color:#888;font-style:italic"># Number of threads allowed to be blocked by MongoDB connections multiplier. Default: 5</span>
    <span style="color:#888;font-style:italic"># If mongodb_max_connections is 100, and mongodb_threads_allowed_to_block_multiplier is 5,</span>
    <span style="color:#888;font-style:italic"># then 500 threads can block. More than that and an exception will be thrown.</span>
    <span style="color:#888;font-style:italic"># http://api.mongodb.com/java/current/com/mongodb/MongoOptions.html#threadsAllowedToBlockForConnectionMultiplier</span>
    mongodb_threads_allowed_to_block_multiplier = 5

    <span style="color:#888;font-style:italic"># Drools Rule File (Use to rewrite incoming log messages)</span>
    <span style="color:#888;font-style:italic"># See: http://docs.graylog.org/en/2.1/pages/drools.html</span>
    <span style="color:#888;font-style:italic">#rules_file = /etc/graylog/server/rules.drl</span>

    <span style="color:#888;font-style:italic"># Email transport</span>
    <span style="color:#888;font-style:italic">#transport_email_enabled = false</span>
    <span style="color:#888;font-style:italic">#transport_email_hostname = mail.example.com</span>
    <span style="color:#888;font-style:italic">#transport_email_port = 587</span>
    <span style="color:#888;font-style:italic">#transport_email_use_auth = true</span>
    <span style="color:#888;font-style:italic">#transport_email_use_tls = true</span>
    <span style="color:#888;font-style:italic">#transport_email_use_ssl = true</span>
    <span style="color:#888;font-style:italic">#transport_email_auth_username = you@example.com</span>
    <span style="color:#888;font-style:italic">#transport_email_auth_password = secret</span>
    <span style="color:#888;font-style:italic">#transport_email_subject_prefix = [graylog]</span>
    <span style="color:#888;font-style:italic">#transport_email_from_email = graylog@example.com</span>

    <span style="color:#888;font-style:italic"># Specify and uncomment this if you want to include links to the stream in your stream alert mails.</span>
    <span style="color:#888;font-style:italic"># This should define the fully qualified base url to your web interface exactly the same way as it is accessed by your users.</span>
    <span style="color:#888;font-style:italic">#transport_email_web_interface_url = https://graylog.example.com</span>

    <span style="color:#888;font-style:italic"># The default connect timeout for outgoing HTTP connections.</span>
    <span style="color:#888;font-style:italic"># Values must be a positive duration (and between 1 and 2147483647 when converted to milliseconds).</span>
    <span style="color:#888;font-style:italic"># Default: 5s</span>
    <span style="color:#888;font-style:italic">#http_connect_timeout = 5s</span>

    <span style="color:#888;font-style:italic"># The default read timeout for outgoing HTTP connections.</span>
    <span style="color:#888;font-style:italic"># Values must be a positive duration (and between 1 and 2147483647 when converted to milliseconds).</span>
    <span style="color:#888;font-style:italic"># Default: 10s</span>
    <span style="color:#888;font-style:italic">#http_read_timeout = 10s</span>

    <span style="color:#888;font-style:italic"># The default write timeout for outgoing HTTP connections.</span>
    <span style="color:#888;font-style:italic"># Values must be a positive duration (and between 1 and 2147483647 when converted to milliseconds).</span>
    <span style="color:#888;font-style:italic"># Default: 10s</span>
    <span style="color:#888;font-style:italic">#http_write_timeout = 10s</span>

    <span style="color:#888;font-style:italic"># HTTP proxy for outgoing HTTP connections</span>
    <span style="color:#888;font-style:italic">#http_proxy_uri =</span>

    <span style="color:#888;font-style:italic"># The threshold of the garbage collection runs. If GC runs take longer than this threshold, a system notification</span>
    <span style="color:#888;font-style:italic"># will be generated to warn the administrator about possible problems with the system. Default is 1 second.</span>
    <span style="color:#888;font-style:italic">#gc_warning_threshold = 1s</span>

    <span style="color:#888;font-style:italic"># Connection timeout for a configured LDAP server (e. g. ActiveDirectory) in milliseconds.</span>
    <span style="color:#888;font-style:italic">#ldap_connection_timeout = 2000</span>

    <span style="color:#888;font-style:italic"># Disable the use of SIGAR for collecting system stats</span>
    <span style="color:#888;font-style:italic">#disable_sigar = false</span>

    <span style="color:#888;font-style:italic"># The default cache time for dashboard widgets. (Default: 10 seconds, minimum: 1 second)</span>
    <span style="color:#888;font-style:italic">#dashboard_widget_default_cache_time = 10s</span>

    <span style="color:#888;font-style:italic"># Automatically load content packs in &#34;content_packs_dir&#34; on the first start of Graylog.</span>
    content_packs_loader_enabled = <span style="font-weight:bold">true</span>

    <span style="color:#888;font-style:italic"># The directory which contains content packs which should be loaded on the first start of Graylog.</span>
    content_packs_dir = /usr/share/graylog/data/contentpacks

    <span style="color:#888;font-style:italic"># A comma-separated list of content packs (files in &#34;content_packs_dir&#34;) which should be applied on</span>
    <span style="color:#888;font-style:italic"># the first start of Graylog.</span>
    <span style="color:#888;font-style:italic"># Default: empty</span>
    content_packs_auto_load = grok-patterns.json

    <span style="color:#888;font-style:italic"># For some cluster-related REST requests, the node must query all other nodes in the cluster. This is the maximum number</span>
    <span style="color:#888;font-style:italic"># of threads available for this. Increase it, if &#39;/cluster/*&#39; requests take long to complete.</span>
    <span style="color:#888;font-style:italic"># Should be rest_thread_pool_size * average_cluster_size if you have a high number of concurrent users.</span>
    proxied_requests_thread_pool_size = 32
<span style="color:#888;font-style:italic"># }}}</span>
<span style="color:#888;font-style:italic"># {{{ ingress</span>
---
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: graylog
spec:
  rules:
  - host: graylog.test.com
    http:
      paths:
      - backend:
          serviceName: graylog
          servicePort: 9000
<span style="color:#888;font-style:italic"># }}}</span></code></pre></div>
<p></details></p>

<p>注意把部署文件中的域名替换为合适的域名。</p>

<p>按照顺序部署三个服务，等待启动后就可以访问了。这里配置的用户名和密码是<code>admin/admin</code>。如果启动报错可以在页面上点击详细信息查看。</p>

      </article>
  </div>
</section>

<aside>
    <h4 id="signature">
        Wed Nov 14, 2018
        
            cheon
        
    </h4>
    
    
    <ul class="tags">
      
        <li> <a href="https://www.cheon.site/blog/tags/log">log</a> </li>
      
        <li> <a href="https://www.cheon.site/blog/tags/k8s">k8s</a> </li>
      
    </ul>
    
    <ul class="related">
        
        <li><a class="previous" href="https://www.cheon.site/blog/struct/ansible_variables/"> Ansible Variables</a></li>
        
        
        <li><a class="next" href="https://www.cheon.site/blog/struct/graylog_sidecar/"> Graylog Sidecar</a></li>
        
    </ul>
</aside>

        </div><section id="footer">

<div id="author">
    <h2>About Author</h2>
    <hr>
    <img src=https://www.cheon.site/images/author.jpg></img>
    <p>Life is dance we all have to do.</p>
</div>
<ul id="link">
    <li><a href=https://github.com/number317/aloha.git target="_blank"><i class="fa fa-github" alt="github"></i></a></li>
    <li><a href="mailto:cheon0112358d@gmail.com?subject=blog%27s%20feedback" target="_blank"><i class="fa fa-envelope" alt="email"></i></a></li>
    <li id="wechat"><i class="fa fa-wechat"></i></li>
    <img class="qrcode" src=https://www.cheon.site/images/wechat.jpg>
</ul>
</section>
</body>
</html>
